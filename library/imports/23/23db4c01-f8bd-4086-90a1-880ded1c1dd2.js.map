{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\module\\hall\\script\\room/assets\\module\\hall\\script\\room\\PlaywayGroup.js"],"names":["beiMiCommon","require","cc","Class","extends","properties","grouptitle","default","type","Label","groupbox","Node","groupbox_four","content","itemname","checkbox","checkboxnode","onLoad","self","node","on","event","checked","data","inx","options","length","script","doUnChecked","doChecked","stopPropagation","init","group","itempre","items","parentoptions","groupoptions","Array","string","name","itemsnum","groupid","id","newitem","instantiate","style","parent","active","getComponent","push","inititem","height","parseInt","item","width","x","defaultvalue"],"mappings":"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","file":"PlaywayGroup.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\module\\hall\\script\\room","sourcesContent":["var beiMiCommon = require(\"BeiMiCommon\");\r\ncc.Class({\r\n    extends: beiMiCommon,\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        grouptitle:{\r\n            default:null ,\r\n            type : cc.Label\r\n        },\r\n        groupbox:{\r\n            default:null ,\r\n            type : cc.Node\r\n        },\r\n        groupbox_four:{\r\n            default:null ,\r\n            type : cc.Node\r\n        },\r\n        content:{\r\n            default:null ,\r\n            type : cc.Node\r\n        },\r\n        itemname:{\r\n            default:null ,\r\n            type : cc.Label\r\n        },\r\n        checkbox:{\r\n            default:null ,\r\n            type : cc.Node\r\n        },\r\n        checkboxnode:{\r\n            default:null ,\r\n            type : cc.Node\r\n        }\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n\r\n        let self = this ;\r\n        this.node.on('checkbox', function (event) {\r\n            if(self.checkbox!=null){\r\n                if(self.checked == false){\r\n                    if(self.data.type == \"radio\"){\r\n                        for(var inx = 0 ; inx < self.options.length ; inx++){\r\n                            let script = self.options[inx] ;\r\n                            script.doUnChecked() ;\r\n                        }\r\n                    }\r\n                    self.doChecked();\r\n                }else{\r\n                    if(self.data.type == \"radio\"){\r\n                        for(var inx = 0 ; inx < self.options.length ; inx++){\r\n                            let script = self.options[inx] ;\r\n                            script.doUnChecked() ;\r\n                        }\r\n                        self.doChecked();\r\n                    }else{\r\n                        self.doUnChecked();\r\n                    }\r\n                }\r\n            }\r\n            event.stopPropagation() ;\r\n        });\r\n    },\r\n    init:function(group , itempre , items , parentoptions){\r\n        this.data = group ;\r\n        this.options = parentoptions ;\r\n\r\n        this.groupoptions = new Array();\r\n        this.checked = false ;\r\n\r\n\r\n        this.grouptitle.string = group.name ;\r\n        if(this.groupbox!=null && itempre!=null){\r\n            let itemsnum = 0 ;\r\n            for(var inx=0 ; inx<items.length ; inx++){\r\n                if(items[inx].groupid == group.id){\r\n                    itemsnum = itemsnum + 1;\r\n                    let newitem = cc.instantiate(itempre) ;\r\n                    if(group.style != null && group.style == \"three\"){\r\n                        newitem.parent = this.groupbox ;\r\n                        this.groupbox_four.active = false ;\r\n                        this.groupbox.active = true ;\r\n                    }else{\r\n                        newitem.parent = this.groupbox_four ;\r\n                        this.groupbox_four.active = true;\r\n                        this.groupbox.active = false;\r\n                    }\r\n                    let script = newitem.getComponent(\"PlaywayGroup\") ;\r\n                    this.groupoptions.push(script);\r\n                    script.inititem(items[inx] , group , this.groupoptions);\r\n\r\n                }\r\n            }\r\n            if(group.style != null && group.style == \"three\") {\r\n                if (itemsnum > 4) {\r\n                    this.content.height = 35 + 50 * (parseInt((itemsnum - 1) / 3) + 1);\r\n                    this.groupbox.height = 50 * (parseInt((itemsnum - 1) / 3) + 1);\r\n                }\r\n            }else{\r\n                if (itemsnum > 4) {\r\n                    this.content.height = 35 + 50 * (parseInt((itemsnum - 1)/ 4) + 1);\r\n                    this.groupbox_four.height = 50 * (parseInt((itemsnum - 1)/ 4) + 1);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    inititem:function(item , group , parentoptions){\r\n        this.data = group ;\r\n        this.item = item ;\r\n        this.options = parentoptions;\r\n        this.itemname.string = item.name ;\r\n        /**\r\n         * 以下代码修正 OPTION超出宽度导致 点击错误的 问题\r\n         */\r\n        if(group.style == \"three\"){\r\n            this.itemname.node.width = 160 ;\r\n            this.itemname.node.x = 107 ;\r\n        }else{\r\n            this.itemname.node.width = 105 ;\r\n            this.itemname.node.x = 77 ;\r\n        }\r\n        if(item.defaultvalue == true){\r\n            this.doChecked();\r\n        }else{\r\n            this.doUnChecked();\r\n        }\r\n        if(group!=null && group.style!=null && group.style == \"three\"){\r\n            this.checkboxnode.x = -76 ;\r\n        }\r\n    },\r\n    doChecked:function(){\r\n        this.checked = true ;\r\n        this.checkbox.active = true ;\r\n    },\r\n    doUnChecked:function(){\r\n        this.checked = false ;\r\n        this.checkbox.active = false;\r\n    }\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"]}